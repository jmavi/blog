<!doctype html>



  


<html class="theme-next muse use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
  <link href="/blog/vendors/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/blog/vendors/font-awesome/css/font-awesome.min.css?v=4.4.0" rel="stylesheet" type="text/css" />

<link href="/blog/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/blog/atom.xml" title="南京惊鸣航空科技有限公司博客专栏" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/blog/favicon.ico?v=5.0.1" />






<meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="南京惊鸣航空科技有限公司博客专栏">
<meta property="og:url" content="https://jmavi.github.io/blog/index.html">
<meta property="og:site_name" content="南京惊鸣航空科技有限公司博客专栏">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="南京惊鸣航空科技有限公司博客专栏">
<meta name="twitter:description">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Muse',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: 0,
      author: '博主'
    }
  };
</script>




  <link rel="canonical" href="https://jmavi.github.io/blog/"/>

  <title> 南京惊鸣航空科技有限公司博客专栏 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  










  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/blog/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">南京惊鸣航空科技有限公司博客专栏</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle">Nanjing JingMing Aviation Technology Co. Ltd</p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/blog/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/blog/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/blog/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/blog/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-guestbook">
          <a href="/blog/guestbook" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-question-circle"></i> <br />
            
            留言
          </a>
        </li>
      

      
    </ul>
  

  
</nav>

 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/2016/07/14/Paparazzi-UAV-固定翼配置文件注释/" itemprop="url">
                  Paparazzi UAV 固定翼配置文件注释
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-07-14T20:46:40+08:00" content="2016-07-14">
              2016-07-14
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/blog/2016/07/14/Paparazzi-UAV-固定翼配置文件注释/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/14/Paparazzi-UAV-固定翼配置文件注释/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
		  
          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/2016/07/12/aat/" itemprop="url">
                  Paparazzi UAV 自动天线跟踪
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-07-12T21:50:40+08:00" content="2016-07-12">
              2016-07-12
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/blog/2016/07/12/aat/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/12/aat/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
		  
          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>自动天线跟踪，简称AAT，目的是增加无人机与地面站之间的传输距离，实现手段是将定向天线实时对准无人机。</p>
<p>QQ交流群：34528825</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/2016/07/12/photo/" itemprop="url">
                  Paparazzi UAV 测绘功能
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-07-12T21:47:14+08:00" content="2016-07-12">
              2016-07-12
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/blog/2016/07/12/photo/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/12/photo/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
		  
          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="相机控制"><a href="#相机控制" class="headerlink" title="相机控制"></a>相机控制</h2><p>ppz拥有强大的相机控制能力，从接口上看，具有GIPO,UART,等控制接口，从控制模式上看，有定时、定距、测绘三种</p>
<h2 id="配置文件"><a href="#配置文件" class="headerlink" title="配置文件"></a>配置文件</h2><p>QQ交流群：34528825</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/2016/07/12/protocol/" itemprop="url">
                  Paparazzi UAV 通信协议
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-07-12T21:37:10+08:00" content="2016-07-12">
              2016-07-12
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/blog/2016/07/12/protocol/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/07/12/protocol/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
		  
          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>PPRZ：<br> 报文格式：<br>PPRZ-message: ABCxxxxxxxDE<br>    A PPRZ_STX (0x99) //A位置，报文帧头<br>    B LENGTH (A-&gt;E)   //B位置，报文长度，涵盖了从A-&gt;E区的总长度！<br>    C PPRZ_DATA<br>      0 SENDER_ID<br>      1 MSG_ID<br>      2 MSG_PAYLOAD<br>      . DATA (messages.xml)<br>    D PPRZ_CHECKSUM_A (sum[B-&gt;C])<br>    E PPRZ_CHECKSUM_B (sum[ck_a])</p>
<p>PPRZ是PPZ官方标准的传输协议，其实包含一个所有协议通用的接口，也即struct transport trans;，然后才是PPRZ私有的数据内容：<br>struct pprz_transport {<br>  // generic interface<br>  struct transport trans;<br>  // specific pprz transport variables<br>  uint8_t status;<br>  uint8_t payload_idx;<br>  uint8_t ck_a, ck_b;<br>}; </p>
<p>其中，通用接口里有了：</p>
<p>下面以一串报文为例讲解：<br>992AA2 C6 00 00 00 00 00 00 00 00 6C 03 00 00 00 00 00 00 00 00 00 00 D8 3D 00 00 20 00 00 00 05 00 00 00 BD FF FF FFF5DA<br>A位置：99代表帧头标记位，B位置：2A代表长度=42个字节（代表报文的总长度）可以掰手指数，确实是42个字节，接着，A2是sender_id，也就是发送数据者的ID，我们看到是A2=162，接下来是message_id，C6=198，这些ID从include\messages.h内查看得到。例如198对应的消息是：#define DL_INS 198，那么，现在我们来看看INS是啥玩意了：找到messages.xml配置文件，找到INS对应位置是：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&lt;message name=&quot;INS&quot; id=&quot;198&quot;&gt;</span><br><span class="line">  &lt;field name=&quot;ins_x&quot;     type=&quot;int32&quot; alt_unit=&quot;m&quot;    alt_unit_coef=&quot;0.0039063&quot;/&gt;</span><br><span class="line">  &lt;field name=&quot;ins_y&quot;     type=&quot;int32&quot; alt_unit=&quot;m&quot;    alt_unit_coef=&quot;0.0039063&quot;/&gt;</span><br><span class="line">  &lt;field name=&quot;ins_z&quot;     type=&quot;int32&quot; alt_unit=&quot;m&quot;    alt_unit_coef=&quot;0.0039063&quot;/&gt;</span><br><span class="line">  &lt;field name=&quot;ins_xd&quot;    type=&quot;int32&quot; alt_unit=&quot;m/s&quot;  alt_unit_coef=&quot;0.0000019&quot;/&gt;</span><br><span class="line">  &lt;field name=&quot;ins_yd&quot;    type=&quot;int32&quot; alt_unit=&quot;m/s&quot;  alt_unit_coef=&quot;0.0000019&quot;/&gt;</span><br><span class="line">  &lt;field name=&quot;ins_zd&quot;    type=&quot;int32&quot; alt_unit=&quot;m/s&quot;  alt_unit_coef=&quot;0.0000019&quot;/&gt;</span><br><span class="line">  &lt;field name=&quot;ins_xdd&quot;   type=&quot;int32&quot; alt_unit=&quot;m/s2&quot; alt_unit_coef=&quot;0.0009766&quot;/&gt;</span><br><span class="line">  &lt;field name=&quot;ins_ydd&quot;   type=&quot;int32&quot; alt_unit=&quot;m/s2&quot; alt_unit_coef=&quot;0.0009766&quot;/&gt;</span><br><span class="line">  &lt;field name=&quot;ins_zdd&quot;   type=&quot;int32&quot; alt_unit=&quot;m/s2&quot; alt_unit_coef=&quot;0.0009766&quot;/&gt;</span><br><span class="line">&lt;/message&gt;</span><br></pre></td></tr></table></figure></p>
<p>现在，我们看到INS包含了9个变量，每个变量用int32存储，也就是每个变量占4个字节，合计36个字节，用下划线表示了payload具体数值。<br>D位置内容：F5=245，这个是PPRZ_CHECKSUM_A (sum[B-&gt;C])<br>E位置内容：DA=218，这个是PPRZ_CHECKSUM_B (sum[ck_a])</p>
<p>下面再提供2串PPRZ报文，感兴趣的可以自己动手解析看看哦：<br>99 40 A2 93 00 00 00 00 00 00 00 00 7F FC FF FF 00 00 00 00 00 00 00 00 71 15 00 00 7C FF FF FF 30 FF FF FF F3 09 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 16 86</p>
<p>99 26 A2 9A 8C 21 95 1B FA 97 B6 00 10 12 11 1A 69 5B F7 19 84 06 E2 00 BA 08 03 00 38 3E 02 00 80 02 C3 47 5C 7C 99 40 A2 93 00 00 00 00 00 00 00 00 69 FC FF FF 00 00 00 00 00 00 00 00 93 D3 FE FF 7C FF FF FF 31 FF FF FF F4 09 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 DF 89</p>
<p>QQ交流群：34528825</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/2016/06/24/short/" itemprop="url">
                  Paparazzi UAV 中的常见缩写
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-24T22:09:05+08:00" content="2016-06-24">
              2016-06-24
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/blog/2016/06/24/short/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/24/short/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
		  
          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="A"><a href="#A" class="headerlink" title="A"></a>A</h2><p>AAT - Automatic Antenna Track<br>AGL - Above Ground Level<br>AHRS - Attitude and Heading Reference System </p>
<h2 id="F"><a href="#F" class="headerlink" title="F"></a>F</h2><p>FDM - Flight Dynamics Model</p>
<h2 id="G"><a href="#G" class="headerlink" title="G"></a>G</h2><p>GCS - Ground Control Station</p>
<h2 id="I"><a href="#I" class="headerlink" title="I"></a>I</h2><p>IMU - Inertial Measurement Unit</p>
<h2 id="L"><a href="#L" class="headerlink" title="L"></a>L</h2><p>LTP - Local Tangent Plane 局部切平面</p>
<h2 id="N"><a href="#N" class="headerlink" title="N"></a>N</h2><p>NPS - New Paparazzi Simulator</p>
<p>NED - North East Down 北东地（坐标系）</p>
<h2 id="P"><a href="#P" class="headerlink" title="P"></a>P</h2><p>PPRZ - PaPaRazZzi 被用作了协议的名</p>
<p>PPZ - PaParazZzi 表示项目的缩写</p>
<h2 id="U"><a href="#U" class="headerlink" title="U"></a>U</h2><p>UAV - Unmanned Aerial Vehicle </p>
<h2 id="V"><a href="#V" class="headerlink" title="V"></a>V</h2><p>VTOL - Vertical Take-Off and Landing 垂直起降</p>
<p>不断补充，欢迎提示</p>
<p>QQ交流群：34528825</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/2016/06/21/howto/" itemprop="url">
                  打造自己的Paparazzi UAV ：手把手教你
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-21T19:22:35+08:00" content="2016-06-21">
              2016-06-21
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/blog/2016/06/21/howto/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/21/howto/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
		  
          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="软件准备"><a href="#软件准备" class="headerlink" title="软件准备"></a>软件准备</h2><p>Paparazzi Center，集成了参数配置、代码编译及上传、地面站功能的一体化平台，在该平台上可以编辑配置文件、编译、上传、仿真、运行，调试。</p>
<p>安装Paparazzi Center步骤：</p>
<p>1.添加代码源<br><code>sudo add-apt-repository -y ppa:paparazzi-uav/ppa &amp;&amp; sudo add-apt-repository -y ppa:terry.guo/gcc-arm-embedded &amp;&amp; sudo apt-get update</code></p>
<p>2.安装第三方软件<br><code>sudo apt-get -f -y install paparazzi-dev paparazzi-jsbsim gcc-arm-none-eabi</code></p>
<p>3.通过github下载源代码-5.6版本<br><code>cd ~ &amp;&amp; git clone --origin upstream https://github.com/paparazzi/paparazzi.git</code></p>
<p><code>cd ~/paparazzi &amp;&amp; git remote update -p &amp;&amp; git checkout -b v5.6 upstream/v5.6</code></p>
<p>4.添加ppz设备规则<br><code>sudo cp conf/system/udev/rules/50-paparazzi.rules /etc/udev/rules.d/</code></p>
<p>5.添加ppz环境变量<br><code>echo -e &quot;export PAPARAZZI_HOME=~/paparazzi\nexport PAPARAZZI_SRC=~/paparazzi&quot; &gt;&gt; ~/.bashrc &amp;&amp; source ~/.bashrc</code></p>
<p>6.编译运行<br><code>make clean &amp;&amp; make &amp;&amp; sudo ./paparazzi</code></p>
<p>涉及到安装失败现象主要第2步，源有问题，可以尝试163，sohu等，QQ群友可以索取安装好的地面站虚拟机文件。<br>有一些Linux常用命令你必须得掌握：<br>a. <code>Ctrl+Alt+t</code> 调出命令行<br>b. <code>sudo -i</code> 升级为root权限<br>c. <code>lsusb</code> 查看连接系统的USB设备</p>
<h2 id="硬件准备"><a href="#硬件准备" class="headerlink" title="硬件准备"></a>硬件准备</h2><ol>
<li>飞控：Lisa/M v2.0</li>
<li>数传电台：3DR 500mW</li>
<li>遥控器：FS-IA6B 带PPM编码功能</li>
<li>GPS：UBLOX 8代</li>
<li>电机、电调、桨</li>
<li>电池、充电器</li>
</ol>
<h3 id="飞控篇"><a href="#飞控篇" class="headerlink" title="飞控篇"></a>飞控篇</h3><p>Lisa飞控拿到手首先是测试烧录程序，使用microUSB线连接飞控与电脑，不要接电池，注意，必须是USB2.0接口；通过lsusb命令查看是否多了一个设备，拔了就少了一个设备。这时候LED1~LED5为跑马灯。然后以sudo ./paparazzi启动软件，固定翼机A/C选择Microjet_LisaM，默认体配置文件为microjet_lisa_m.xml；四轴的A/C选择Quad_LisaM_2，默认机体配置文件为quadrotor_lisa_m_2_pwm_spektrum.xml。点击编辑Edit可以查看配置文件的内容，接着，Target选择ap，Build，Upload，底下会出现进度条的提示。<br>烧录完成后LED指示灯会发生变化，LED1为1Hz频率闪烁，LED2初始化后常亮，LED3为GPS指示灯，LED4为遥控器指示灯。<br>注意，默认的配置文件不能直接使用，请根据实际配置(机型、动力等等)编辑配置文件，请在qq群文件下载注解。</p>
<h3 id="数传电台篇"><a href="#数传电台篇" class="headerlink" title="数传电台篇"></a>数传电台篇</h3><p>插上电台，同样用lsusb命令查看是否多了一个设备，选择Paparazzi Center右上角的Session, 具体请结合无线数传电台参数选择，默认的我们设置了电台为透明传输，波特率为57600，因此我们选择：USB Serial 57600（注意不要与XBEE 57600混淆）；最后点击右上角的Execute执行地面站。电台的两个指示灯含义：绿色常亮代表两只电台配对成功；红色闪烁代表数据传输。</p>
<h3 id="遥控器篇"><a href="#遥控器篇" class="headerlink" title="遥控器篇"></a>遥控器篇</h3><p>不管你的遥控器多么高级，没有ppm编码功能不可以使用，当然，可以淘宝“ppm编码器”，将PWM信号转化为PPM信号。这里推荐的富斯6通道遥控自带了PPM编码功能，性价比超级高，省心省力。<br>因为是6通道，所以在radio对应的xml文件编辑6个channel，<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&lt;!DOCTYPE radio SYSTEM &quot;radio.dtd&quot;&gt;</span><br><span class="line">&lt;radio name=&quot;cockpitSX (easy)&quot; data_min=&quot;900&quot; data_max=&quot;2100&quot; sync_min =&quot;5000&quot; sync_max =&quot;15000&quot; pulse_type=&quot;POSITIVE&quot;&gt;</span><br><span class="line">  &lt;channel ctl=&quot;A&quot; function=&quot;ROLL&quot;      min=&quot;1010&quot; neutral=&quot;1500&quot; max=&quot;1990&quot; average=&quot;0&quot;/&gt;</span><br><span class="line">  &lt;channel ctl=&quot;B&quot; function=&quot;PITCH&quot;     min=&quot;1990&quot; neutral=&quot;1500&quot; max=&quot;1010&quot; average=&quot;0&quot;/&gt;</span><br><span class="line">  &lt;channel ctl=&quot;C&quot; function=&quot;THROTTLE&quot;  min=&quot;1010&quot; neutral=&quot;1010&quot; max=&quot;1990&quot; average=&quot;0&quot;/&gt;</span><br><span class="line">  &lt;channel ctl=&quot;D&quot; function=&quot;YAW&quot;       min=&quot;1010&quot; neutral=&quot;1500&quot; max=&quot;1990&quot; average=&quot;0&quot;/&gt;  </span><br><span class="line">  &lt;channel ctl=&quot;E&quot; function=&quot;MODE&quot;      min=&quot;1010&quot; neutral=&quot;1500&quot; max=&quot;1990&quot; average=&quot;1&quot;/&gt; </span><br><span class="line">  &lt;channel ctl=&quot;F&quot; function=&quot;KILL&quot;      min=&quot;2000&quot; neutral=&quot;1500&quot; max=&quot;1990&quot; average=&quot;1&quot;/&gt;</span><br><span class="line">&lt;/radio&gt;</span><br></pre></td></tr></table></figure></p>
<p>1-4通道的顺序分别对应了滚转、俯仰、油门、偏航指令，这个顺序是遥控器硬件决定的，必须如此。<br>5、6通道是辅助通道，我们将第5通道定义为模式通道，第6通道定义为关闭油门。在富斯遥控上，我们设置两个辅助通道为SWC,SWD，分别为一个三段开关和一个两段开关。通过三段开关我们可以切换三个不同的模式，而两段开关就是电机正常OR强制关闭。<br>另外一方面，我们还需要设置各个通道对应的行程范围，通过在GCS的选择ppm，我么可以在Messages里面看到6个ppm值，一般而言，遥控器的行程在1000~2000左右的区间变化。我们将min，max设置落入这个区间，也就是1010,1990，这样的min，max比较合适。基本上把上面这段参数抄入radio的xml文件里就可以使用了。</p>
<h3 id="GPS篇"><a href="#GPS篇" class="headerlink" title="GPS篇"></a>GPS篇</h3><p>Paparazzi 默认的配置:输出协议ubx；波特率38400；输出频率4Hz</p>
<p>通过在配置文件的modules里面添加一行可以自动配置参数<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;modules&gt;</span><br><span class="line">...</span><br><span class="line">   &lt;load name=&quot;gps_ubx_ucenter.xml&quot;/&gt; &lt;!-- 上电自动配置 GPS 参数 --&gt;</span><br><span class="line">&lt;/modules&gt;</span><br></pre></td></tr></table></figure></p>
<p>注意，GPS必须放在室外开阔地带才能获取较好的定位效果。</p>
<p>QQ交流群：34528825</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/2016/06/19/ppz_uav/" itemprop="url">
                  Paparazzi UAV 简介
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-19T23:23:38+08:00" content="2016-06-19">
              2016-06-19
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/blog/2016/06/19/ppz_uav/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/19/ppz_uav/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
		  
          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Paparazzi（PPZ） UAV 开源项目诞生于图卢兹——空中客车（Air Bus）的总部，法国人的浪漫、贵族精神给该项目注入了与生俱来的高冷气质。<br>主要体现在：<br>1.PPZ 地面站系统采用Linux Ubuntu操作系统，瞬间将国内许多用户拒之门外；<br>2.地面站的编程语言gtk+ocaml+python或许许多专业的程序猿都很少使用；<br>3.还有对于习惯了盗版ARM开发环境的人们，对PPZ飞控采用的嵌入式编程的ARM库libopencm3更是十分陌生。<br>总之，以你过去的知识积累，似乎根本无法驾驭PPZ。</p>
<p>相比于APM,PIX平台，PPZ一直处于一个小圈子里，显得神秘莫测，它到底能干什么，性能如何，一直是个传说而已。</p>
<p>因此很多人顿生疑虑，PPZ与APM/PIX的区别到底是什么。<br>那么这里如果以一句话概括两者的区别“PPZ面向极客，而APM/PIX面向大众用户”</p>
<p>民间科学家们很容易通过APM/PIX的“友好的”Windows地面站向导，一步一步完成散件到整机的安装过程，或许只要1天，就可以享受到飞行的乐趣。甚至即刻可以开展一些航拍航测的活。</p>
<p>请自己思考，傻瓜式的向导优点是简单，缺点是什么？</p>
<p>PPZ根本不是按照这么个套路展现给使用者的。<br>具体来说，飞控+机体的搭配不是一个图形向导，而是一个有几十行参数的XML文件，一堆完全不能理解的变量、术语暴露在小白面前，瞬间奔溃；<br>再例如，虽然你也按照六面法在校准加速度机，旋转校准电子罗盘，但是等着你的是一堆按钮、脚本、配置文件！</p>
<p>很多人说，PPZ是用来做研究的。完全在理！从实际来看，看谁在买PPZ的东西呢？淘宝店铺的数据显示，百分之九十的客户来自学校、初创公司。</p>
<p>那么PPZ这么麻烦，除了这么多缺点还有优点吗，它到底能给我们带来什么？<br>1.PPZ代表了自由精神：为了开源，可以将增大开发难度，为了开源，可以牺牲用户体验：我们用Linux，我们用Makefile，我们用Eagle……有人要冷笑了，自由关我屁事？当XX软件厂商给你发律师函的时候你还能笑得起来吗？<br>2.PPZ有一统天下的豪迈气派：PPZ涵盖十来种AHRS算法、十几中飞行模式，给你选择；<br>飞控若干种，STM32的，NXP的，神奇得做到底层代码公用，通过头文件、配置文件指定个性化的内容，那么你要设计一个飞控是否受到很大启迪？法国商用的Parrot无人机可以烧录PPZ固件飞行，还能跑光流定位，神奇？最近还可以在PIX板子上跑用PPZ代码；<br>PPZ具有非常灵活的飞行计划编辑功能，除了传统的航点、路线，还有什么一键起降之类的，都可以通过计划实现；<br>PPZ支持固定翼、旋翼、直升机、垂直起降机型；<br>PPZ自己有集成化的跟踪天线（AAT）；PPZ支持DGPS；<br>PPZ设计了IVY总线，可以给不同程序/设备调度数据；<br>PPZ支持集群飞行；<br>都说PIX双核你PPZ单核，不是这样的，咱们PPZ也能玩双核！<br>江湖上还有很多对PPZ不利的谣言，譬如PPZ对旋翼的支持不好，拜托，你自己无能也怪人家不强大？</p>
<p>可以说，PPZ玩得好，能够学得到的东西是APM/PIX的几十倍，几百倍。</p>
<p>让依然选择PPZ的人们团结起来共同努力吧！</p>
<p>在这里需要插嘴一提的是，2010年5月，正当PPZ出于茁壮成长的时期，它的联合创始人法国国立民航大学（ENAC） 大学教授，Pascal Brisset，在一次登山过程中不幸遭遇了意外去世，天妒英才，上帝也喜爱无人机。</p>
<p>Paparazzi的硬件和软件系统都采用GPL许可证授权。</p>
<p>QQ群：34528825</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/blog/2016/06/18/about_us/" itemprop="url">
                  关于我们
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-06-18T22:49:58+08:00" content="2016-06-18">
              2016-06-18
            </time>
          </span>

          

          
            
              <span class="post-comments-count">
                &nbsp; | &nbsp;
                <a href="/blog/2016/06/18/about_us/#comments" itemprop="discussionUrl">
                  <span class="post-comments-count ds-thread-count" data-thread-key="2016/06/18/about_us/" itemprop="commentsCount"></span>
                </a>
              </span>
            
          

          
		  
          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>飞行似乎是人类与生俱来的梦想，古有奔月嫦娥，明朝的万户，近代发明飞机的莱特兄弟。与浪漫、刺激同在的往往是生命的代价。再到后来，培养一名优秀空军飞行员花费比等重量的黄金还贵，而且经不起损耗，无人机便成为了选择方案。</p>
<p>随着硬件技术，尤其是MEMS的迅猛发展，无人机终于让平民大众也能消受得起，花费两三千人民币便可以DIY一架无人机。</p>
<p>另一个推波助澜作用的是开源软件，当下聊起某某无人机，首先会想会问它是基于APM/PIX改的吧？</p>
<p>硬件成熟了，算法成熟了，“似乎”一切水到渠成，只剩下商业化包装了，无人机公司如雨后春笋一般。</p>
<p>然而，事实是，技术并未发展到想象中那么强大，各类炸鸡事件频发，甚至是属于无人机巨头的产品。摒弃浮躁，还需要潜心积累。对于创业队伍而言，拿精美的PPT、表演似的演讲去忽悠投资，不可取也。无人机行业属于“高估值”，说白了就是“暴利”，随着竞争加大，未来恐怕要倒下一批，潮退了，便知道谁在裸泳。</p>
<p>我们是一群无人机玩家，更准确的说，是基于Paparazzi UAV开源项目做定制开发的队伍。目前，基于此平台的固定翼，多旋翼的试飞效果还是令人满意的，为用户解决实际问题才是一个产品存在的价值，而现在用户的需求呈多样化个性化趋势发展。路还很遥远，许多问题有待突破，毕竟，无人机属于系统性工程，现在，由不同专业背景组成的队伍初步组成。与大众团队不同的是，他们对采用的开源技术遮遮掩掩，采用开源技术却去除开源的影子。做开源项目与用户之前的桥梁，或许我们是国内第一个吃螃蟹的人，努力吧！</p>
<p>现在很多人工作是为了饭碗而已，能每天干自己喜欢事情的人太少，也祝愿公司的发展能够为更多人带来做自己喜欢做的事情机会。</p>
<p>联系我们：QQ群34528825</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  


          </div>
          


          

        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/blog/images/avatar.gif"
               alt="王博士" />
          <p class="site-author-name" itemprop="name">王博士</p>
          <p class="site-description motion-element" itemprop="description"></p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/blog/archives">
              <span class="site-state-item-count">8</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          

          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/blog/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

      </section>

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2016</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">王博士</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Muse
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="/blog/vendors/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/blog/vendors/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/blog/vendors/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/blog/vendors/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/blog/vendors/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/blog/vendors/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/blog/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/blog/js/src/motion.js?v=5.0.1"></script>



  
  

  

  


  <script type="text/javascript" src="/blog/js/src/bootstrap.js?v=5.0.1"></script>



  

  
    
  

  <script type="text/javascript">
    var duoshuoQuery = {short_name:"jmavi"};
    (function() {
      var ds = document.createElement('script');
      ds.type = 'text/javascript';ds.async = true;
      ds.id = 'duoshuo-script';
      ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
      ds.charset = 'UTF-8';
      (document.getElementsByTagName('head')[0]
      || document.getElementsByTagName('body')[0]).appendChild(ds);
    })();
  </script>

  
    
    <script src="/blog/vendors/ua-parser-js/dist/ua-parser.min.js?v=0.7.9"></script>
    <script src="/blog/js/src/hook-duoshuo.js"></script>
  






  
  

  

  

  

</body>
</html>
